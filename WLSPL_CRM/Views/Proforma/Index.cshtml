@model List<WLSPL_CRM_2.Models.ProformaInvoiceHdr>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="~/assets/libs/vanilla-datatables/vanilla-dataTables.min.css">
<link rel="stylesheet" href="~/assets/libs/vanilla-datatables-editable/datatable.editable.min.css">
<!-- App css -->
<link href="~/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/css/app.min.css" rel="stylesheet" type="text/css" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body pt-0">

                <div class="card">
                    <div class="card-header">
                        <div class="row align-items-center">
                            <div class="col-auto">
                                <h4 class="card-title"> Proforma List </h4>
                            </div><!--end col-->
                            <div class="col-auto ms-auto">

                                @*<span class="text-primary fw-semibold">Note :</span><span class="text-primary fw-normal"> if you want to data edit do double click on a table row.</span> *@
                                <a class="btn btn-primary" asp-controller="Proforma" asp-action="Create">
                                    <div class="d-flex align-items-center">
                                        <span class="nav-link-text"> +Add Proforma </span>
                                    </div>
                                </a>

                            </div><!--end col-->
                        </div>  <!--end row-->
                    </div><!--end card-header-->
                    <div class="card-body pt-0">
                        <form method="post" asp-action="DeleteLead">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Sr.No</th>
                                            <th>Proforma No</th>
                                            <th>Proforma Date</th>
                                            <th>Company Name</th>
                                            <th>Against By</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @{
                                            int srNo = 1;
                                        }
                                        @foreach (var quatation in Model)
                                        {
                                            <tr>
                                                <td>@srNo</td>
                                                <td>@quatation.ProformaNo</td>
                                                <td>@quatation.ProformaDate?.ToString("dd-MM-yyyy")</td>
                                                <td>@quatation.CompanyName</td>
                                                <td>@(quatation.AgainstBy?.ToString() ?? "Order")</td>
                                                <td>
                                                    <a href="@Url.Action("Edit", "Proforma", new { id = quatation.Id })" class="btn btn-success btn-sm" title="Edit">
                                                        <i class="fas fa-pencil-alt"></i>
                                                    </a>
                                                    &nbsp;
                                                    <a href="@Url.Action("Delete", "Proforma",new { id = quatation.Id })" class="btn btn-danger btn-sm" title="Delete" onclick="return confirm('Are you sure you want to delete this Proforma?');">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                            srNo++;
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div><!--end card-body-->
                </div><!--end card-->
            </div>
        </div>
    </div>
</div>
